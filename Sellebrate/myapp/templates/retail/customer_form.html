{% extends "retail/base.html" %}

{% block title %}{% if customer %}Update Customer{% else %}Create Customer{% endif %} - Sellebrate{% endblock %}

{% block content %}
<div class="container">
    <h1 class="my-4">{% if customer %}Update Customer{% else %}Create Customer{% endif %}</h1>
    <form method="post">
        {% csrf_token %}
        {% if not customer %}
        <div class="form-group">
            <label for="CustomerID">Customer ID:</label>
            <input type="text" class="form-control" name="CustomerID" value="{{ customer.CustomerID|default_if_none:'' }}" required>
        </div>
        {% endif %}
        <div class="form-group">
            <label for="Name">Name:</label>
            <input type="text" class="form-control" name="Name" value="{{ customer.Name|default_if_none:'' }}" required>
        </div>
        <div class="form-group">
            <label for="Email">Email:</label>
            <input type="email" class="form-control" name="Email" value="{{ customer.Email|default_if_none:'' }}" required>
        </div>
        <div class="form-group">
            <label for="ContactNumber">Contact Number:</label>
            <input type="text" class="form-control" name="ContactNumber" value="{{ customer.ContactNumber|default_if_none:'' }}" required>
        </div>
        <div class="form-group">
            <label for="Address">Address:</label>
            <input type="text" class="form-control" name="Address" value="{{ customer.Address|default_if_none:'' }}" required>
        </div>
        <div class="form-group">
            <label for="Country">Country:</label>
            <input type="text" class="form-control" name="Country" value="{{ customer.Country|default_if_none:'' }}" required>
        </div>
        <div class="form-group">
            <label for="LastPurchaseDate">Last Purchase Date:</label>
            <input type="date" class="form-control" name="LastPurchaseDate" value="{{ customer.LastPurchaseDate|date:'Y-m-d'|default_if_none:'' }}">
        </div>
        <button type="submit" class="btn btn-primary">{% if customer %}Update{% else %}Create{% endif %}</button>
    </form>
    <a href="{% url 'customer_list' %}" class="btn btn-secondary mt-3">Back to Customers List</a>
</div>
{% endblock %}
